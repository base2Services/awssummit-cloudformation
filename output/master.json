{"AWSTemplateFormatVersion":"2010-09-09","Description":"awssummit-demo - Master vdev","Parameters":{"EnvironmentType":{"Type":"String","AllowedValues":["production","dev"],"Default":"dev"},"EnvironmentName":{"Type":"String"},"StackOctet":{"Type":"String","Default":"99"},"NatAEIPAllocationId":{"Type":"String","Default":"dynamic","Description":"Enter the eip allocation id or use dynamic to generate EIP as part of the stack"},"NatBEIPAllocationId":{"Type":"String","Default":"dynamic","Description":"Enter the eip allocation id or use dynamic to generate EIP as part of the stack"},"NatCEIPAllocationId":{"Type":"String","Default":"dynamic","Description":"Enter the eip allocation id or use dynamic to generate EIP as part of the stack"}},"Resources":{"VPCStack":{"Type":"AWS::CloudFormation::Stack","Properties":{"TemplateURL":"https://source.demo1.awssummit.base2.services.s3.amazonaws.com/cloudformation/dev/vpc.json","TimeoutInMinutes":5,"Parameters":{"EnvironmentType":{"Ref":"EnvironmentType"},"EnvironmentName":{"Ref":"EnvironmentName"},"StackOctet":{"Ref":"StackOctet"},"NatAEIPAllocationId":{"Ref":"NatAEIPAllocationId"},"NatBEIPAllocationId":{"Ref":"NatBEIPAllocationId"},"NatCEIPAllocationId":{"Ref":"NatCEIPAllocationId"}}}},"AppStack":{"Type":"AWS::CloudFormation::Stack","Properties":{"TemplateURL":"https://source.demo1.awssummit.base2.services.s3.amazonaws.com/cloudformation/dev/app.json","TimeoutInMinutes":5,"Parameters":{"EnvironmentType":{"Ref":"EnvironmentType"},"EnvironmentName":{"Ref":"EnvironmentName"},"VPC":{"Fn::GetAtt":["VPCStack","Outputs.VPCId"]},"StackOctet":{"Ref":"StackOctet"},"SecurityGroupBackplane":{"Fn::GetAtt":["VPCStack","Outputs.SecurityGroupBackplane"]},"SecurityGroupOps":{"Fn::GetAtt":["VPCStack","Outputs.SecurityGroupOps"]},"SecurityGroupDev":{"Fn::GetAtt":["VPCStack","Outputs.SecurityGroupDev"]},"SubnetPublicA":{"Fn::GetAtt":["VPCStack","Outputs.SubnetPublicA"]},"RouteTablePrivateA":{"Fn::GetAtt":["VPCStack","Outputs.RouteTablePrivateA"]},"SubnetPublicB":{"Fn::GetAtt":["VPCStack","Outputs.SubnetPublicB"]},"RouteTablePrivateB":{"Fn::GetAtt":["VPCStack","Outputs.RouteTablePrivateB"]},"SubnetPublicC":{"Fn::GetAtt":["VPCStack","Outputs.SubnetPublicC"]},"RouteTablePrivateC":{"Fn::GetAtt":["VPCStack","Outputs.RouteTablePrivateC"]}}}},"CodeDeployStack":{"Type":"AWS::CloudFormation::Stack","Properties":{"TemplateURL":"https://source.demo1.awssummit.base2.services.s3.amazonaws.com/cloudformation/dev/codedeploy.json","TimeoutInMinutes":5,"Parameters":{"EnvironmentName":{"Ref":"EnvironmentName"}}},"DependsOn":[]}}}
